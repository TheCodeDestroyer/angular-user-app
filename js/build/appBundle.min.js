angular.module("spci.filters",[]),angular.module("spci.services",[]),angular.module("spci.directives",[]),angular.module("spci.controllers",[]),angular.module("spci",["ngCookies","ui.router","highcharts-ng","ui.bootstrap","spci.filters","spci.services","spci.directives","spci.controllers"]).config(["$stateProvider","$urlRouterProvider",function(a,b){"use strict";a.state("index",{url:"/","abstract":!0,templateUrl:"js/index/partials/indMain.html",controller:"indMainCtrl as indMain"}),a.state("index.grid",{url:"grid",templateUrl:"js/index/partials/indGrid.html"}),a.state("index.chart",{url:"chart",templateUrl:"js/index/partials/indChart.html"}),b.otherwise("grid")}]),angular.module("spci.controllers").controller("indMainCtrl",["$scope","$state","indUserSvc","$modal","$log",function(a,b,c,d,e){"use strict";function f(){return{options:{chart:{type:"column"},tooltip:{style:{padding:10,fontWeight:"bold"}}},size:{width:600,height:400}}}function g(){if(h.showAgeChartInPrint=!1,h.showBadLuckChartInPrint=!1,h.showChartsOnPrint){switch(h.printOptions.selectedChartOption.id){case 2:h.showAgeChartInPrint=!0,h.ageChartConfig=h.buildChart(1,!0);break;case 3:h.showBadLuckChartInPrint=!0,h.badLuckChartConfig=h.buildChart(0,!0);break;case 4:h.showBadLuckChartInPrint=!0,h.badLuckChartConfig=h.buildChart(0,!0),h.showAgeChartInPrint=!0,h.ageChartConfig=h.buildChart(1,!0),h.ageChartConfig.size={width:350,height:400},h.badLuckChartConfig.size={width:350,height:400};break;default:e.log("Option not supported")}var a=$("#chartContainer").first().detach(),b="#contentContainer";2===h.printOptions.selectedChartOrder.id?a.prependTo(b):a.appendTo(b)}}var h=this;h.gridData=[];var i=[];h.chartOptions=[{id:1,name:"None"},{id:2,name:"Age Chart"},{id:3,name:"Bad Luck Chart"},{id:4,name:"Both"}],h.chartOrder=[{id:1,name:"Grid before Chart"},{id:2,name:"Chart before Grid"}],h.tabs=[{sref:"index.grid",title:"Grid",active:"index.grid"===b.current.name},{sref:"index.chart",title:"Chart",active:"index.chart"===b.current.name}],h.gridConfig={datatype:"local",height:"auto",rowList:[5,10,15],rowNum:15,pager:"#gridPager",sortname:"id",sortorder:"asc",sortable:!0,colNames:["Id","Full Name","Age","Sex","Bad luck","Best quote"],colModel:[{name:"id",width:60,resizable:!0,sorttype:"int",hidden:!0},{name:"name",width:180,resizable:!0,align:"center"},{name:"age",width:60,resizable:!0,align:"center",sorttype:"int"},{name:"sex",width:60,resizable:!0,align:"center",sorttype:"string"},{name:"badLuck",width:100,resizable:!0,align:"center",sorttype:"float"},{name:"bestQuote",width:290,resizable:!0,align:"center",sorttype:"string"}]},c.getUsers().then(function(a){i=a.data,h.randomizeData(15)}),h.randomizeData=function(a){for(var b=[],c=[];b.length<a;){var d=i[Math.floor(Math.random()*i.length)];-1===b.indexOf(d.id)&&(b.push(d.id),c.push(d))}h.gridData=c,h.buildChart()},h.buildChart=function(a,b){var c=new f;c.series=[],c.xAxis={categories:["Characters"]},c.yAxis={currentMin:0};var d=h.gridData;switch(a){case 0:c.title={text:"Bad luck chart"},c.yAxis.currentMax=1e4,c.yAxis.title={text:"Bad luck"};break;default:c.title={text:"Age chart"},c.yAxis.currentMax=100,c.yAxis.title={text:"Age"}}for(var e=0;e<d.length;e++)c.series.push({name:d[e].name,data:[0!==a?d[e].age:d[e].badLuck]});return b||(h.highchartsConfig=c),c},h.printData=function(){window.print()},h.printOptionsDialog=function(){h.printOptions||(h.printOptions={selectedChartOption:h.chartOptions[0],selectedChartOrder:h.chartOrder[0]});var b=d.open({templateUrl:"js/index/partials/indPrintOptions.html",scope:a,size:"sm"});b.result.then(function(){g()})},h.setChartOptionsValue=function(a){a&&(h.printOptions.selectedChartOption=a,h.showChartsOnPrint=a.name!==h.chartOptions[0].name)}}]),angular.module("spci.controllers").controller("indMetaCtrl",[function(){"use strict";var a=this;a.currentYear=(new Date).getFullYear(),a.currentDate=new Date}]),angular.module("spci.directives").directive("tcdJqgrid",function(){return{restrict:"E",scope:{config:"=",data:"="},link:function(a,b){var c,d;a.$watch("config",function(a,e){if(a!==e||0===$("#grid").length){b.children().empty(),c=angular.element('<table id="grid"></table>'),d=angular.element('<div id="gridPager" class="hidden-print"></div>');var f=$(c);b.append(c),b.append(d),f.jqGrid(a)}}),a.$watch("data",function(a,b){var d;for(d=b.length-1;d>=0;d--)$(c).jqGrid("delRowData",d);for(d=0;d<a.length;d++)$(c).jqGrid("addRowData",d,a[d])})}}}),angular.module("spci.services").factory("indUserSvc",["$http",function(a){function b(){var b="http://restapi-thecodedestroyer.rhcloud.com";return b||""!==b?a.get(b+"/user"):void 0}return{getUsers:b}}]);